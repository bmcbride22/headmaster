<div class="flex flex-col max-w-6xl">
  <div class="flex justify-between">
    <h1>Cohorts</h1>
    <%= link_to 'Add Cohort', new_cohort_path, class: "btn btn-primary " %>
  </div>
  <% if @cohorts.length > 0%>
    <div id="vue-chart" class="mt-10 grid grid-cols-3 gap-6 ">
      <% @cohorts.each_with_index do |cohort, i| %>
        <%= link_to cohort_path(cohort) do %>
          <div class="col-span-1 mx-auto">
            <div class="mx-auto space-y-6 h-auto p-4 border-2 shadow-md shadow-gray-300 border-gray-200 rounded-lg">
              <h3>Cohort <%=cohort.name ||= cohort.id%></h3>
              <p class= "text-gray-500"><%=pluralize(cohort.enrollments.count, 'student')%></p>
              <hr>
              <doughnut-chart :prop-data ="<%= @achievement_groups[i].to_json %>"></doughnut-chart>
              <hr>
              <div class="flex flex-row-reverse pt-4">
                <p class="btn btn-secondary">View cohort</p>
              </div>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <p>No cohorts yet, go add your first cohort</p>
  <% end %>
</div>
